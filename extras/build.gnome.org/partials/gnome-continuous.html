<article>
  <h1>GNOME-Continuous</h1>
  <p>See <a href="https://wiki.gnome.org/Projects/GnomeContinuous">GNOME-Continuous</a>
    for more information. </p>
  <p>
    State: <span>{{ runningState }}</span>
    <br>
    <a href="{{ pushLogHref }}">Today's resolve log</a>
  </p>
  
  <p>
    <h3>Active critical bugs</h3>
    <ul>
      <li><a href="https://bugzilla.gnome.org/show_bug.cgi?id=722803">Bug 722803</a>: No headerbar in initial setup mode</li>
      <li><a href="https://bugzilla.gnome.org/show_bug.cgi?id=723553">Bug 723553</a>: gdm crashing (assertions in gdbusconnection.c)</li>
    </ul>
  </p>
  
  <div>
    <h3>Build</h3>
    <div>Build <a href="{{ build.href }}">{{ build.version }}</a> <span ng-if="!build.success" class="task-failed">Failed</span></div>
    <div ng-if="buildData.built.length > 0">
      <ul>
	<li ng-repeat="builtComponent in buildData.built">{{ builtComponent.name }}
	  <span ng-if="builtComponent.warnings > 0"><a href="{{ build.href }}/warnings-{{ builtComponent.name }}.txt">{{ builtComponent.warnings }} warnings</a></span>
	  <span ng-if="builtComponent.deprecations > 0"><a href="{{ build.href }}/deprecations-{{ builtComponent.name }}.txt">{{ builtComponent.deprecations }} deprecations</a></span>
	</li>
      </ul>
    </div>
    <div ng-if="buildData.failed != null">
      <gjs/gi/span class="task-failed">Failed</span> <a href="{{ build.href }}/log-{{ buildData.failed.name }}.txt">{{ buildData.failed.name }}</a>
    </div>
  </div>

  <div class="smoketest">
    <h3>Smoketest</h3>
    <div>Version <a href="{{ smoketest.href }}">{{ smoketest.version }}</a> <span ng-if="!smoketest.success" class="task-failed">Failed</span></div>
    <a href="{{ smoketest.href }}/work-gnome-continuous-x86_64-runtime/screenshot-final.png"><img width="320" height="240" src="{{ smoketest.href }}/work-gnome-continuous-x86_64-runtime/screenshot-final.png"></a>
  </div>
    
  <div class="installed-tests">
    <h3><a href="https://live.gnome.org/Initiatives/GnomeGoals/InstalledTests">InstalledTests</a></h3>
    <div>Version <a href="{{ integrationtest.href }}">{{ integrationtest.version }}</a></div>
    <div> {{ installedTestsSuccessful.length }} successful, {{ installedTestsSkipped.length }} skipped</div>
    <div ng-init="expand = []"> Failed: {{installedTestsFailedPerComponent.length}}</div>
    <div ng-repeat="component in installedTestsFailedComponents">
      <span ng-init="expand[$index]=false">{{component}}
      <span ng-click="expand[$index]=!expand[$index]">
        <span ng-show="expand[$index]" style="text-decoration: underline" >[Hide]</span><span ng-show="!expand[$index]" style="text-decoration: underline" >[Show]</span>
      </span>
      <span ng-show="expand[$index]">
      <ul ng-repeat="failedTest in installedTestsFailedPerComponent">
        <li ng-if="failedTest['name'] == component">{{failedTest['test']}}</div>
      </ul>
    </span>
    </div>
  </div>

  <div class="app-grid">
    <h3>Application Tests</h3>
    <div>Version <a href="{{ applicationstest.href }}">{{ applicationstest.version }}</a></div>
    <a ng-repeat="app in apps" class="app" ng-class="app.status" title="{{ app.name }}" href="{{ app.screenshot }}">
      <div class="icon">
        <img src="{{ app.icon }}">
        <div class="emblem"></div>
      </div>
    </a>
  </div>
</article>
